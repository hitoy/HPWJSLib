/*
 * Carousel.js 2.1.0
 * Copyright Hito (vip@hitoy.org) All rights reserved
 */
!function(t){"use strict";function e(e,r,i,a,n,s,o,l,c,u,d,h){var f,p,v,g,b,$=!1,n=n,y=0,x=0;function A(t){var r=e.children;if(t>r.length||t<0)return!1;var i=r[t].getBoundingClientRect(),a=b.getBoundingClientRect();return"x"==s?i.left-a.left:i.top-a.top}function m(t){l.querySelectorAll("span"),a&&(t-=n),l.querySelectorAll("span").forEach(function(e,r){r>=t&&r<t+n?e.classList.add(h):e.classList.remove(h)})}function w(t){c&&t==c?c.setAttribute("aria-disabled","false"):u&&t==u&&u.setAttribute("aria-disabled","false")}function _(t){c&&t==c?c.setAttribute("aria-disabled","true"):u&&t==u&&u.setAttribute("aria-disabled","true")}function E(t,r){if(t<0||t>=e.children.length)return!1;var i=A(t),a=parseFloat(e.getAttribute("data-translate"))-i;e.style.transitionDuration=parseFloat(r/1e3)+"s",e.style.transitionDelay="0s","x"===s?e.style.transform="translateX("+a+"px)":e.style.transform="translateY("+a+"px)",e.setAttribute("data-translate",a),setTimeout(function(){y=t},r)}function L(t){if($)return!1;$=!0,!a&&t>=v?t=0:!a&&t<0?t=v-1:!a&&t>v-g&&(t=v-g),E(t,r),setTimeout(function(){a&&(t<n?E(t+=v,0):t>=v+n&&E(t-=v,0));var r=1;e.childNodes.forEach(function(e,i){i>=t&&i<t+g?(e.classList.add(d),e.setAttribute("data-visible-index",r),r++):(e.classList.remove(d),e.removeAttribute("data-visible-index"))}),l&&m(t),!a&&y>=v-g?_(c):a||0!=y?a||(w(c),w(u)):_(u),$=!1},r)}!function r(){_(c),_(u),e.childNodes.forEach(t=>{1!==t.nodeType&&e.removeChild(t)});var i=e.getBoundingClientRect(),h=t.getComputedStyle(e);if((b=document.createElement("div")).style.width=i.width+"px",b.style.height=i.height+"px",b.className="carousel-wrap",b.setAttribute("carousel-wrap",""),b.style.margin=h.getPropertyValue("margin"),e.style.margin=0,e.parentNode.insertBefore(b,e),b.appendChild(e),p=A(0),v=e.children.length,g=function t(){var r=0,i="x"==s?e.getBoundingClientRect().width:e.getBoundingClientRect().height;for(var a in Array.from(e.children)){var n=e.children[a],o="x"==s?n.getBoundingClientRect().width:n.getBoundingClientRect().height,l=A(a);if(l>=0&&l+o<=i)r++;else if(l>=i)break}return r}(),0==v||v==g)return!1;if(n="auto"===n?g:Math.min(n,g),w(c),e.setAttribute("data-translate",0),a){for(var f=e.children,$=0;$<g;$++){var E=f[$].cloneNode(!0);e.appendChild(E)}for(var $=v-1;$>=v-n;$--){var E=f[$].cloneNode(!0);e.insertBefore(E,e.children[0])}var C=A(n)-p;"x"===s?e.style.left=-C+"px":e.style.top=-C+"px",y=n,w(u)}else _(u);var B=a?n:0,R=a?g+n:g,T=1;e.childNodes.forEach(function(t,e){var r=t.getBoundingClientRect();t.style.width=r.width+"px",t.style.height=r.height+"px",e>=B&&e<R&&(t.classList.add(d),t.setAttribute("data-visible-index",T),T++)});var S,k,N,q,Y=e.lastElementChild.getBoundingClientRect(),i=e.getBoundingClientRect();"x"===s?(e.style.width=Y.right-i.left+"px",e.style.height=i.height+"px"):(e.style.width=i.width+"px",e.style.height=Y.bottom-i.top+"px"),l&&(l.innerHTML="<span></span>".repeat(v),m(y),l.addEventListener("click",function(e){var r=e.target||t.event.srcElement;if(r.closest("span")){var i=Array.from(l.children).indexOf(r.closest("span"));a?i+=n:!a&&i>v-g&&(i=v-g),L(i)}})),c&&c.addEventListener("click",function(t){if("true"==c.getAttribute("aria-disabled"))return!1;L(y+n)}),u&&u.addEventListener("click",function(t){if("true"==u.getAttribute("aria-disabled"))return!1;L(y-n)}),S=0,k=0,N=0,q=0,e.addEventListener("touchstart",function(t){S=t.targetTouches[0].pageX,k=t.targetTouches[0].pageY,N=S,q=k},{passive:!0}),e.addEventListener("touchmove",function(t){var r=t.targetTouches[0].pageX,i=t.targetTouches[0].pageY,a=parseFloat(e.getAttribute("data-translate"));if(e.style.transitionDuration="0s",e.style.transitionDelay="0s","x"==s){var n=r-N,o=a+n;e.style.transform="translateX("+o+"px)",e.setAttribute("data-translate",o)}else{var n=i-q,o=a+n;e.style.transform="translateY("+o+"px)",e.setAttribute("data-translate",o)}N=r,q=i},{passive:!0}),e.addEventListener("touchend",function(t){var e=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY,i=A(n)-A(0);if("x"==s)var o=e-S;else var o=r-k;!a&&0==y&&o>=0?L(0):!a&&y==v-n&&o<=0?L(v-n):o<-i/3?L(y+n):o>i/3?L(y-n):L(y)},{passive:!0}),o&&b.addEventListener("wheel",function(t){if(t.deltaY>0){if(!a&&y==v-n||x<.75)return!1;L(y+n)}else if(t.deltaY<0){if(!a&&0==y||x<.75)return!1;L(y-n)}t.preventDefault()},{passive:!1})}(),this.play=function(){if(0==v||v==g)return!1;var t=function(){f=setTimeout(function(){L(y+n),t()},i)},e=function(){clearTimeout(f)};["mouseenter","touchstart"].forEach(function(t){b.parentNode.addEventListener(t,function(){e()})},{passive:!0}),["mouseleave","touchend"].forEach(function(e){b.parentNode.addEventListener(e,function(){t()})},{passive:!0}),t()},this.setThreshold=function(t){x=t},this.carouselwrap=b,this.carouselwrap.guid=Math.random().toString(36).substr(2)}function r(){var r={};if(t.IntersectionObserver)var i=new IntersectionObserver(function(t){t.forEach(function(t){r[t.target.guid].setThreshold(t.intersectionRatio)})},{rootMargin:"0px",threshold:[0,.25,.5,.75,1]});t.document.querySelectorAll("[carousel-container]").forEach(function(t){var a=t.hasAttribute("carousel-loop"),n=t.hasAttribute("carousel-autoplay"),s=t.hasAttribute("carousel-delay")?parseInt(t.getAttribute("carousel-delay")):6e3,o=t.hasAttribute("carousel-duration")?parseInt(t.getAttribute("carousel-duration")):600,l=t.hasAttribute("carousel-step")?parseInt(t.getAttribute("carousel-step")):"auto",c=t.hasAttribute("carousel-direction")?-1==["x","y"].indexOf(t.getAttribute("carousel-direction"))?"x":t.getAttribute("carousel-direction"):"x",u=t.hasAttribute("carousel-mousewheel"),d=t.querySelector("[carousel-scroll]");if(d){var h=d.getAttribute("carousel-slider-activeclass")||"carousel-visible-slider";t.classList.add("carousel-container"),d.classList.add("carousel-scroll"),"x"===c?d.classList.add("carousel-scroll-x"):d.classList.add("carousel-scroll-y");var f=t.querySelector("[carousel-indicator]"),p=f&&f.getAttribute("carousel-indicator-activeclass")||"carousel-active-indicator",v=t.querySelector("[carousel-next-button]");v&&(v.setAttribute("role","button"),v.setAttribute("tabindex","0"));var g=t.querySelector("[carousel-prev-button]");g&&(g.setAttribute("role","button"),g.setAttribute("tabindex","0"));var b=new e(d,o,s,a,l,c,u,f,v,g,h,p);n&&b.play(),i&&b.carouselwrap&&(i.observe(b.carouselwrap),r[b.carouselwrap.guid]=b)}})}function i(){var e=t.document.createElement("style");e.setAttribute("carousel-extension","2.1.0"),e.innerHTML=`
        [carousel-container] {
            position: relative;
        }
        [carousel-wrap] {
            position: relative;
            max-width: 100%;
            max-height: 100%;
            overflow: hidden;
        }
        [carousel-scroll] {
            position: absolute;
            display: block;
            width: 100%;
            height: auto;
            transition-property: transform;
            transition-timing-function: ease-in-out;
            will-change: transform;
            backface-visibility: hidden;
        }
        [carousel-scroll] > * {
            box-sizing: border-box;
            backface-visibility: hidden;
        }
        [carousel-scroll].carousel-scroll-x {
            white-space:nowrap;
        }
        [carousel-scroll].carousel-scroll-x > * {
            display: inline-block;
            vertical-align: top;
            white-space: initial;
        }
        [carousel-scroll].carousel-scroll-y > * {
            display: block;
        }
        [carousel-prev-button][aria-disabled = true],[carousel-next-button][aria-disabled = true] {
            visibility: hidden;
        }`,t.document.head.append(e)}"complete"===t.document.readyState?(i(),r()):t.addEventListener("load",function(){i(),r()})}(window);
